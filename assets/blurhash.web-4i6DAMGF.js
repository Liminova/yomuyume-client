(function(){"use strict";const j="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#$%*+,-.:;=?@[]^_{|}~",p=(o,n,e)=>{let s=0;for(;n<e;)s*=83,s+=j.indexOf(o[n++]);return s},D=Math.pow,i=Math.PI,z=i*2,P=3294.6,A=269.025,F=o=>o>10.31475?D(o/A+.052132,2.4):o/P,h=o=>~~(o>1227e-8?A*D(o,.416666)-13.025:o*P+1),l=o=>(o<0?-1:1)*o*o,L=o=>{for(o+=i/2;o>i;)o-=z;const n=1.27323954*o-.405284735*l(o);return .225*(l(n)-n)+n};function G(o){const n=p(o,2,6);return[n>>16,n>>8&255,n&255]}function Y(o,n,e,s){const b=p(o,0,1),a=b%9+1,r=~~(b/9)+1,f=a*r;let t=0,u=0,g=0,d=0,x=0,B=0,R=0,y=0,M=0,C=0,w=0,O=0,T=0,I=0;const v=(p(o,1,2)+1)/13446*(s|1),c=new Float64Array(f*3),E=G(o);for(t=0;t<3;t++)c[t]=F(E[t]);for(t=1;t<f;t++)I=p(o,4+t*2,6+t*2),c[t*3]=l(~~(I/(19*19))-9)*v,c[t*3+1]=l(~~(I/19)%19-9)*v,c[t*3+2]=l(I%19-9)*v;const U=n*4,m=new Uint8ClampedArray(U*e);for(d=0;d<e;d++)for(O=i*d/e,g=0;g<n;g++){for(x=0,B=0,R=0,T=i*g/n,u=0;u<r;u++)for(M=L(O*u),t=0;t<a;t++)y=L(T*t)*M,C=(t+u*a)*3,x+=c[C]*y,B+=c[C+1]*y,R+=c[C+2]*y;w=4*g+d*U,m[w]=h(x),m[w+1]=h(B),m[w+2]=h(R),m[w+3]=255}return m}async function q(o){const n=o[0],e=o[1],s=o[2],b=Y(n,e,s),a=new OffscreenCanvas(e,s),r=a.getContext("2d");if(!r)throw new Error("Could not get context");const f=r.createImageData(e,s);f.data.set(b),r.putImageData(f,0,0);const t=await a.convertToBlob();return URL.createObjectURL(t)}self.onmessage=async o=>{self.postMessage(await q(o.data))}})();
