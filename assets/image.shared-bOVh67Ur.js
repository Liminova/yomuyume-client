(function(){"use strict";var ye=function(){var S=self.location.href;return function(i){i=i||{};var i=typeof i<"u"?i:{},dr,z;i.ready=new Promise(function(r,e){dr=r,z=e});var I={},R;for(R in i)i.hasOwnProperty(R)&&(I[R]=i[R]);var yr=!0,P="";function Or(r){return i.locateFile?i.locateFile(r,P):P+r}var vr;P=self.location.href,S&&(P=S),P.indexOf("blob:")!==0?P=P.substr(0,P.lastIndexOf("/")+1):P="",vr=function(r){var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)};var yn=i.print||console.log.bind(console),q=i.printErr||console.warn.bind(console);for(R in I)I.hasOwnProperty(R)&&(i[R]=I[R]);I=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit;var ar=0,mr=function(r){ar=r},Gr=function(){return ar},fr;i.wasmBinary&&(fr=i.wasmBinary),i.noExitRuntime,typeof WebAssembly!="object"&&W("no native wasm support detected");var wr,ur=!1,Jr=new TextDecoder("utf8");function mn(r,e,o){for(var u=e+o,c=e;r[c]&&!(c>=u);)++c;return Jr.decode(r.subarray?r.subarray(e,c):new Uint8Array(r.slice(e,c)))}function Qr(r,e){if(!r)return"";for(var o=r+e,u=r;!(u>=o)&&b[u];)++u;return Jr.decode(b.subarray(r,u))}function wn(r,e,o,u){if(!(u>0))return 0;for(var c=o,g=o+u-1,_=0;_<r.length;++_){var d=r.charCodeAt(_);if(d>=55296&&d<=57343){var h=r.charCodeAt(++_);d=65536+((d&1023)<<10)|h&1023}if(d<=127){if(o>=g)break;e[o++]=d}else if(d<=2047){if(o+1>=g)break;e[o++]=192|d>>6,e[o++]=128|d&63}else if(d<=65535){if(o+2>=g)break;e[o++]=224|d>>12,e[o++]=128|d>>6&63,e[o++]=128|d&63}else{if(o+3>=g)break;e[o++]=240|d>>18,e[o++]=128|d>>12&63,e[o++]=128|d>>6&63,e[o++]=128|d&63}}return e[o]=0,o-c}function bn(r,e,o){return wn(r,b,e,o)}function Tn(r){for(var e=0,o=0;o<r.length;++o){var u=r.charCodeAt(o);u>=55296&&u<=57343&&(u=65536+((u&1023)<<10)|r.charCodeAt(++o)&1023),u<=127?++e:u<=2047?e+=2:u<=65535?e+=3:e+=4}return e}var An=new TextDecoder("utf-16le");function Pn(r,e){for(var o=r,u=o>>1,c=u+e/2;!(u>=c)&&gr[u];)++u;return o=u<<1,An.decode(b.subarray(r,o))}function En(r,e,o){if(o===void 0&&(o=2147483647),o<2)return 0;o-=2;for(var u=e,c=o<r.length*2?o/2:r.length,g=0;g<c;++g){var _=r.charCodeAt(g);j[e>>1]=_,e+=2}return j[e>>1]=0,e-u}function Rn(r){return r.length*2}function Fn(r,e){for(var o=0,u="";!(o>=e/4);){var c=H[r+o*4>>2];if(c==0)break;if(++o,c>=65536){var g=c-65536;u+=String.fromCharCode(55296|g>>10,56320|g&1023)}else u+=String.fromCharCode(c)}return u}function jr(r,e,o){if(o===void 0&&(o=2147483647),o<4)return 0;for(var u=e,c=u+o-4,g=0;g<r.length;++g){var _=r.charCodeAt(g);if(_>=55296&&_<=57343){var d=r.charCodeAt(++g);_=65536+((_&1023)<<10)|d&1023}if(H[e>>2]=_,e+=4,e+4>c)break}return H[e>>2]=0,e-u}function Dr(r){for(var e=0,o=0;o<r.length;++o){var u=r.charCodeAt(o);u>=55296&&u<=57343&&++o,e+=4}return e}function U(r,e){return r%e>0&&(r+=e-r%e),r}var x,cr,b,j,gr,H,G,sr,Ir;function Hr(r){x=r,i.HEAP8=cr=new Int8Array(r),i.HEAP16=j=new Int16Array(r),i.HEAP32=H=new Int32Array(r),i.HEAPU8=b=new Uint8Array(r),i.HEAPU16=gr=new Uint16Array(r),i.HEAPU32=G=new Uint32Array(r),i.HEAPF32=sr=new Float32Array(r),i.HEAPF64=Ir=new Float64Array(r)}i.INITIAL_MEMORY;var M,Xr=[],Zr=[],zr=[];function Cn(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)rr(i.preRun.shift());Mr(Xr)}function Un(){Mr(Zr)}function kn(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)Sn(i.postRun.shift());Mr(zr)}function rr(r){Xr.unshift(r)}function pr(r){Zr.unshift(r)}function Sn(r){zr.unshift(r)}var nr=0,Q=null;function Wn(r){nr++,i.monitorRunDependencies&&i.monitorRunDependencies(nr)}function xr(r){if(nr--,i.monitorRunDependencies&&i.monitorRunDependencies(nr),nr==0&&Q){var e=Q;Q=null,e()}}i.preloadedImages={},i.preloadedAudios={};function W(r){i.onAbort&&i.onAbort(r),r+="",q(r),ur=!0,r="abort("+r+"). Build with -s ASSERTIONS=1 for more info.";var e=new WebAssembly.RuntimeError(r);throw z(e),e}var rn="data:application/octet-stream;base64,";function nn(r){return r.startsWith(rn)}if(i.locateFile){var N="avif_dec.wasm";nn(N)||(N=Or(N))}else var N=new URL(""+new URL("avif_dec-cncDpB4d.wasm",self.location.href).href,self.location.href).toString();function br(r){try{if(r==N&&fr)return new Uint8Array(fr);if(vr)return vr(r);throw"both async and sync fetching of the wasm failed"}catch(e){W(e)}}function On(){return!fr&&yr&&typeof fetch=="function"?fetch(N,{credentials:"same-origin"}).then(function(r){if(!r.ok)throw"failed to load wasm binary file at '"+N+"'";return r.arrayBuffer()}).catch(function(){return br(N)}):Promise.resolve().then(function(){return br(N)})}function he(){var r={a:t};function e(_,d){var h=_.exports;i.asm=h,wr=i.asm.G,Hr(wr.buffer),M=i.asm.P,pr(i.asm.H),xr()}Wn();function o(_){e(_.instance)}function u(_){return On().then(function(d){var h=WebAssembly.instantiate(d,r);return h}).then(_,function(d){q("failed to asynchronously prepare wasm: "+d),W(d)})}function c(){return!fr&&typeof WebAssembly.instantiateStreaming=="function"&&!nn(N)&&typeof fetch=="function"?fetch(N,{credentials:"same-origin"}).then(function(_){var d=WebAssembly.instantiateStreaming(_,r);return d.then(o,function(h){return q("wasm streaming compile failed: "+h),q("falling back to ArrayBuffer instantiation"),u(o)})}):u(o)}if(i.instantiateWasm)try{var g=i.instantiateWasm(r,e);return g}catch(_){return q("Module.instantiateWasm callback failed with error: "+_),!1}return c().catch(z),{}}function Mr(r){for(;r.length>0;){var e=r.shift();if(typeof e=="function"){e(i);continue}var o=e.func;typeof o=="number"?e.arg===void 0?M.get(o)():M.get(o)(e.arg):o(e.arg===void 0?null:e.arg)}}function _e(r,e){}function Lr(r,e){return void 0}function jn(r,e,o,u,c){}function Tr(r){switch(r){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+r)}}function L(){for(var r=new Array(256),e=0;e<256;++e)r[e]=String.fromCharCode(e);er=r}var er=void 0;function F(r){for(var e="",o=r;b[o];)e+=er[b[o++]];return e}var X={},tr={},Ar={},en=48,tn=57;function Pr(r){if(r===void 0)return"_unknown";r=r.replace(/[^a-zA-Z0-9_]/g,"$");var e=r.charCodeAt(0);return e>=en&&e<=tn?"_"+r:r}function Vr(r,e){return r=Pr(r),new Function("body","return function "+r+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(e)}function k(r,e){var o=Vr(e,function(u){this.name=e,this.message=u;var c=new Error(u).stack;c!==void 0&&(this.stack=this.toString()+`
`+c.replace(/^Error(:[^\n]*)?\n/,""))});return o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},o}var Br=void 0;function O(r){throw new Br(r)}var on=void 0;function J(r){throw new on(r)}function Dn(r,e,o){r.forEach(function(d){Ar[d]=e});function u(d){var h=o(d);h.length!==r.length&&J("Mismatched type converter count");for(var m=0;m<r.length;++m)$(r[m],h[m])}var c=new Array(e.length),g=[],_=0;e.forEach(function(d,h){tr.hasOwnProperty(d)?c[h]=tr[d]:(g.push(d),X.hasOwnProperty(d)||(X[d]=[]),X[d].push(function(){c[h]=tr[d],++_,_===g.length&&u(c)}))}),g.length===0&&u(c)}function $(r,e,o){if(o=o||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var u=e.name;if(r||O('type "'+u+'" must have a positive integer typeid pointer'),tr.hasOwnProperty(r)){if(o.ignoreDuplicateRegistrations)return;O("Cannot register type '"+u+"' twice")}if(tr[r]=e,delete Ar[r],X.hasOwnProperty(r)){var c=X[r];delete X[r],c.forEach(function(g){g()})}}function V(r,e,o,u,c){var g=Tr(o);e=F(e),$(r,{name:e,fromWireType:function(_){return!!_},toWireType:function(_,d){return d?u:c},argPackAdvance:8,readValueFromPointer:function(_){var d;if(o===1)d=cr;else if(o===2)d=j;else if(o===4)d=H;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(d[_>>g])},destructorFunction:null})}var Er=[],B=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function an(r){r>4&&--B[r].refcount===0&&(B[r]=void 0,Er.push(r))}function In(){for(var r=0,e=5;e<B.length;++e)B[e]!==void 0&&++r;return r}function Rr(){for(var r=5;r<B.length;++r)if(B[r]!==void 0)return B[r];return null}function qr(){i.count_emval_handles=In,i.get_first_emval=Rr}function Fr(r){switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var e=Er.length?Er.pop():B.length;return B[e]={refcount:1,value:r},e}}}function hr(r){return this.fromWireType(G[r>>2])}function Hn(r,e){e=F(e),$(r,{name:e,fromWireType:function(o){var u=B[o].value;return an(o),u},toWireType:function(o,u){return Fr(u)},argPackAdvance:8,readValueFromPointer:hr,destructorFunction:null})}function Nr(r){if(r===null)return"null";var e=typeof r;return e==="object"||e==="array"||e==="function"?r.toString():""+r}function Mn(r,e){switch(e){case 2:return function(o){return this.fromWireType(sr[o>>2])};case 3:return function(o){return this.fromWireType(Ir[o>>3])};default:throw new TypeError("Unknown float type: "+r)}}function Ln(r,e,o){var u=Tr(o);e=F(e),$(r,{name:e,fromWireType:function(c){return c},toWireType:function(c,g){if(typeof g!="number"&&typeof g!="boolean")throw new TypeError('Cannot convert "'+Nr(g)+'" to '+this.name);return g},argPackAdvance:8,readValueFromPointer:Mn(e,u),destructorFunction:null})}function Vn(r,e){if(!(r instanceof Function))throw new TypeError("new_ called with constructor type "+typeof r+" which is not a function");var o=Vr(r.name||"unknownFunctionName",function(){});o.prototype=r.prototype;var u=new o,c=r.apply(u,e);return c instanceof Object?c:u}function Bn(r){for(;r.length;){var e=r.pop(),o=r.pop();o(e)}}function qn(r,e,o,u,c){var g=e.length;g<2&&O("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var _=e[1]!==null&&o!==null,d=!1,h=1;h<e.length;++h)if(e[h]!==null&&e[h].destructorFunction===void 0){d=!0;break}for(var m=e[0].name!=="void",A="",C="",h=0;h<g-2;++h)A+=(h!==0?", ":"")+"arg"+h,C+=(h!==0?", ":"")+"arg"+h+"Wired";var Y="return function "+Pr(r)+"("+A+`) {
if (arguments.length !== `+(g-2)+`) {
throwBindingError('function `+r+" called with ' + arguments.length + ' arguments, expected "+(g-2)+` args!');
}
`;d&&(Y+=`var destructors = [];
`);var _r=d?"destructors":"null",lr=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Yr=[O,u,c,Bn,e[0],e[1]];_&&(Y+="var thisWired = classParam.toWireType("+_r+`, this);
`);for(var h=0;h<g-2;++h)Y+="var arg"+h+"Wired = argType"+h+".toWireType("+_r+", arg"+h+"); // "+e[h+2].name+`
`,lr.push("argType"+h),Yr.push(e[h+2]);if(_&&(C="thisWired"+(C.length>0?", ":"")+C),Y+=(m?"var rv = ":"")+"invoker(fn"+(C.length>0?", ":"")+C+`);
`,d)Y+=`runDestructors(destructors);
`;else for(var h=_?1:2;h<e.length;++h){var Sr=h===1?"thisWired":"arg"+(h-2)+"Wired";e[h].destructorFunction!==null&&(Y+=Sr+"_dtor("+Sr+"); // "+e[h].name+`
`,lr.push(Sr+"_dtor"),Yr.push(e[h].destructorFunction))}m&&(Y+=`var ret = retType.fromWireType(rv);
return ret;
`),Y+=`}
`,lr.push(Y);var Ae=Vn(Function,lr).apply(null,Yr);return Ae}function Nn(r,e,o){if(r[e].overloadTable===void 0){var u=r[e];r[e]=function(){return r[e].overloadTable.hasOwnProperty(arguments.length)||O("Function '"+o+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+r[e].overloadTable+")!"),r[e].overloadTable[arguments.length].apply(this,arguments)},r[e].overloadTable=[],r[e].overloadTable[u.argCount]=u}}function $n(r,e,o){i.hasOwnProperty(r)?((o===void 0||i[r].overloadTable!==void 0&&i[r].overloadTable[o]!==void 0)&&O("Cannot register public name '"+r+"' twice"),Nn(i,r,r),i.hasOwnProperty(o)&&O("Cannot register multiple overloads of a function with the same number of arguments ("+o+")!"),i[r].overloadTable[o]=e):(i[r]=e,o!==void 0&&(i[r].numArguments=o))}function Kn(r,e){for(var o=[],u=0;u<r;u++)o.push(H[(e>>2)+u]);return o}function Yn(r,e,o){i.hasOwnProperty(r)||J("Replacing nonexistant public symbol"),i[r].overloadTable!==void 0&&o!==void 0?i[r].overloadTable[o]=e:(i[r]=e,i[r].argCount=o)}function Gn(r,e,o){var u=i["dynCall_"+r];return o&&o.length?u.apply(null,[e].concat(o)):u.call(null,e)}function Jn(r,e,o){return r.includes("j")?Gn(r,e,o):M.get(e).apply(null,o)}function fn(r,e){var o=[];return function(){o.length=arguments.length;for(var u=0;u<arguments.length;u++)o[u]=arguments[u];return Jn(r,e,o)}}function un(r,e){r=F(r);function o(){return r.includes("j")?fn(r,e):M.get(e)}var u=o();return typeof u!="function"&&O("unknown function pointer with signature "+r+": "+e),u}var cn=void 0;function sn(r){var e=s(r),o=F(e);return f(e),o}function Qn(r,e){var o=[],u={};function c(g){if(!u[g]&&!tr[g]){if(Ar[g]){Ar[g].forEach(c);return}o.push(g),u[g]=!0}}throw e.forEach(c),new cn(r+": "+o.map(sn).join([", "]))}function Xn(r,e,o,u,c,g){var _=Kn(e,o);r=F(r),c=un(u,c),$n(r,function(){Qn("Cannot call "+r+" due to unbound types",_)},e-1),Dn([],_,function(d){var h=[d[0],null].concat(d.slice(1));return Yn(r,qn(r,h,null,c,g),e-1),[]})}function Zn(r,e,o){switch(e){case 0:return o?function(c){return cr[c]}:function(c){return b[c]};case 1:return o?function(c){return j[c>>1]}:function(c){return gr[c>>1]};case 2:return o?function(c){return H[c>>2]}:function(c){return G[c>>2]};default:throw new TypeError("Unknown integer type: "+r)}}function zn(r,e,o,u,c){e=F(e),c===-1&&(c=4294967295);var g=Tr(o),_=function(m){return m};if(u===0){var d=32-8*o;_=function(m){return m<<d>>>d}}var h=e.includes("unsigned");$(r,{name:e,fromWireType:_,toWireType:function(m,A){if(typeof A!="number"&&typeof A!="boolean")throw new TypeError('Cannot convert "'+Nr(A)+'" to '+this.name);if(A<u||A>c)throw new TypeError('Passing a number "'+Nr(A)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+u+", "+c+"]!");return h?A>>>0:A|0},argPackAdvance:8,readValueFromPointer:Zn(e,g,u!==0),destructorFunction:null})}function xn(r,e,o){var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],c=u[e];function g(_){_=_>>2;var d=G,h=d[_],m=d[_+1];return new c(x,m,h)}o=F(o),$(r,{name:o,fromWireType:g,argPackAdvance:8,readValueFromPointer:g},{ignoreDuplicateRegistrations:!0})}function re(r,e){e=F(e);var o=e==="std::string";$(r,{name:e,fromWireType:function(u){var c=G[u>>2],g;if(o)for(var _=u+4,d=0;d<=c;++d){var h=u+4+d;if(d==c||b[h]==0){var m=h-_,A=Qr(_,m);g===void 0?g=A:(g+="\0",g+=A),_=h+1}}else{for(var C=new Array(c),d=0;d<c;++d)C[d]=String.fromCharCode(b[u+4+d]);g=C.join("")}return f(u),g},toWireType:function(u,c){c instanceof ArrayBuffer&&(c=new Uint8Array(c));var g,_=typeof c=="string";_||c instanceof Uint8Array||c instanceof Uint8ClampedArray||c instanceof Int8Array||O("Cannot pass non-string to std::string"),o&&_?g=function(){return Tn(c)}:g=function(){return c.length};var d=g(),h=a(4+d+1);if(G[h>>2]=d,o&&_)bn(c,h+4,d+1);else if(_)for(var m=0;m<d;++m){var A=c.charCodeAt(m);A>255&&(f(h),O("String has UTF-16 code units that do not fit in 8 bits")),b[h+4+m]=A}else for(var m=0;m<d;++m)b[h+4+m]=c[m];return u!==null&&u.push(f,h),h},argPackAdvance:8,readValueFromPointer:hr,destructorFunction:function(u){f(u)}})}function ne(r,e,o){o=F(o);var u,c,g,_,d;e===2?(u=Pn,c=En,_=Rn,g=function(){return gr},d=1):e===4&&(u=Fn,c=jr,_=Dr,g=function(){return G},d=2),$(r,{name:o,fromWireType:function(h){for(var m=G[h>>2],A=g(),C,Y=h+4,_r=0;_r<=m;++_r){var lr=h+4+_r*e;if(_r==m||A[lr>>d]==0){var Yr=lr-Y,Sr=u(Y,Yr);C===void 0?C=Sr:(C+="\0",C+=Sr),Y=lr+e}}return f(h),C},toWireType:function(h,m){typeof m!="string"&&O("Cannot pass non-string to C++ string type "+o);var A=_(m),C=a(4+A+e);return G[C>>2]=A>>d,c(m,C+4,A+e),h!==null&&h.push(f,C),C},argPackAdvance:8,readValueFromPointer:hr,destructorFunction:function(h){f(h)}})}function ee(r,e){e=F(e),$(r,{isVoid:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(o,u){}})}var ln={};function te(r){var e=ln[r];return e===void 0?F(r):e}function dn(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function ie(r){return r===0?Fr(dn()):(r=te(r),Fr(dn()[r]))}function oe(r){r>4&&(B[r].refcount+=1)}function vn(r,e){var o=tr[r];return o===void 0&&O(e+" has unknown type "+sn(r)),o}function ae(r){for(var e="",o=0;o<r;++o)e+=(o!==0?", ":"")+"arg"+o;for(var u="return function emval_allocator_"+r+`(constructor, argTypes, args) {
`,o=0;o<r;++o)u+="var argType"+o+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+o+'], "parameter '+o+`");
var arg`+o+" = argType"+o+`.readValueFromPointer(args);
args += argType`+o+`['argPackAdvance'];
`;return u+="var obj = new constructor("+e+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",u)(vn,i,Fr)}var gn={};function fe(r){return r||O("Cannot use deleted val. handle = "+r),B[r].value}function ue(r,e,o,u){r=fe(r);var c=gn[e];return c||(c=ae(e),gn[e]=c),c(r,o,u)}function ce(){W()}function se(r,e){throw l(r,e||1),"longjmp"}function Cr(r,e){return se(r,e)}function le(r,e,o){b.copyWithin(r,e,e+o)}function de(r){try{return wr.grow(r-x.byteLength+65535>>>16),Hr(wr.buffer),1}catch{}}function ve(r){var e=b.length;r=r>>>0;var o=2147483648;if(r>o)return!1;for(var u=1;u<=4;u*=2){var c=e*(1+.2/u);c=Math.min(c,r+100663296);var g=Math.min(o,U(Math.max(r,c),65536)),_=de(g);if(_)return!0}return!1}var Ur={mappings:{},buffers:[null,[],[]],printChar:function(r,e){var o=Ur.buffers[r];e===0||e===10?((r===1?yn:q)(mn(o,0)),o.length=0):o.push(e)},varargs:void 0,get:function(){Ur.varargs+=4;var r=H[Ur.varargs-4>>2];return r},getStr:function(r){var e=Qr(r);return e},get64:function(r,e){return r}};function ge(r){return 0}function $r(r,e,o,u,c){}function Z(r,e,o,u){for(var c=0,g=0;g<o;g++){for(var _=H[e+g*8>>2],d=H[e+(g*8+4)>>2],h=0;h<d;h++)Ur.printChar(r,b[_+h]);c+=d}return H[u>>2]=c,0}function pn(){return Gr()}function kr(){return 6}function Kr(){return 28}function n(r){mr(r)}L(),Br=i.BindingError=k(Error,"BindingError"),on=i.InternalError=k(Error,"InternalError"),qr(),cn=i.UnboundTypeError=k(Error,"UnboundTypeError");var t={j:Lr,w:jn,F:V,E:Hn,p:Ln,u:Xn,e:zn,d:xn,q:re,l:ne,r:ee,h:an,i:ie,m:oe,n:ue,a:ce,g:Cr,B:le,k:ve,D:ge,v:$r,C:Z,b:pn,f:D,x:ir,y:E,z:w,o:T,A:p,t:kr,s:Kr,c:n};he(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.H).apply(null,arguments)};var a=i._malloc=function(){return(a=i._malloc=i.asm.I).apply(null,arguments)},f=i._free=function(){return(f=i._free=i.asm.J).apply(null,arguments)},s=i.___getTypeName=function(){return(s=i.___getTypeName=i.asm.K).apply(null,arguments)};i.___embind_register_native_and_builtin_types=function(){return(i.___embind_register_native_and_builtin_types=i.asm.L).apply(null,arguments)};var v=i.stackSave=function(){return(v=i.stackSave=i.asm.M).apply(null,arguments)},y=i.stackRestore=function(){return(y=i.stackRestore=i.asm.N).apply(null,arguments)},l=i._setThrew=function(){return(l=i._setThrew=i.asm.O).apply(null,arguments)};i.dynCall_iiijii=function(){return(i.dynCall_iiijii=i.asm.Q).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.R).apply(null,arguments)};function p(r,e,o,u,c,g,_,d){var h=v();try{M.get(r)(e,o,u,c,g,_,d)}catch(m){if(y(h),m!==m+0&&m!=="longjmp")throw m;l(1,0)}}function w(r,e){var o=v();try{M.get(r)(e)}catch(u){if(y(o),u!==u+0&&u!=="longjmp")throw u;l(1,0)}}function T(r,e,o,u,c){var g=v();try{M.get(r)(e,o,u,c)}catch(_){if(y(g),_!==_+0&&_!=="longjmp")throw _;l(1,0)}}function E(r){var e=v();try{M.get(r)()}catch(o){if(y(e),o!==o+0&&o!=="longjmp")throw o;l(1,0)}}function D(r,e,o){var u=v();try{return M.get(r)(e,o)}catch(c){if(y(u),c!==c+0&&c!=="longjmp")throw c;l(1,0)}}function ir(r,e,o,u,c){var g=v();try{return M.get(r)(e,o,u,c)}catch(_){if(y(g),_!==_+0&&_!=="longjmp")throw _;l(1,0)}}var K;Q=function r(){K||or(),K||(Q=r)};function or(r){if(nr>0||(Cn(),nr>0))return;function e(){K||(K=!0,i.calledRun=!0,!ur&&(Un(),dr(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),kn()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e()}if(i.run=or,i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return or(),i.ready}}(),me=function(){var S=self.location.href;return function(i){i=i||{};var i=typeof i<"u"?i:{},dr,z;i.ready=new Promise(function(n,t){dr=n,z=t});var I={},R;for(R in i)i.hasOwnProperty(R)&&(I[R]=i[R]);var yr=!0,P="";function Or(n){return i.locateFile?i.locateFile(n,P):P+n}var vr;P=self.location.href,S&&(P=S),P.indexOf("blob:")!==0?P=P.substr(0,P.lastIndexOf("/")+1):P="",vr=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)};var yn=i.print||console.log.bind(console),q=i.printErr||console.warn.bind(console);for(R in I)I.hasOwnProperty(R)&&(i[R]=I[R]);I=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit;var ar;i.wasmBinary&&(ar=i.wasmBinary),i.noExitRuntime,typeof WebAssembly!="object"&&Q("no native wasm support detected");var mr,Gr=!1,fr=new TextDecoder("utf8");function wr(n,t,a){for(var f=t+a,s=t;n[s]&&!(s>=f);)++s;return fr.decode(n.subarray?n.subarray(t,s):new Uint8Array(n.slice(t,s)))}function ur(n,t){if(!n)return"";for(var a=n+t,f=n;!(f>=a)&&U[f];)++f;return fr.decode(U.subarray(n,f))}function Jr(n,t,a,f){if(!(f>0))return 0;for(var s=a,v=a+f-1,y=0;y<n.length;++y){var l=n.charCodeAt(y);if(l>=55296&&l<=57343){var p=n.charCodeAt(++y);l=65536+((l&1023)<<10)|p&1023}if(l<=127){if(a>=v)break;t[a++]=l}else if(l<=2047){if(a+1>=v)break;t[a++]=192|l>>6,t[a++]=128|l&63}else if(l<=65535){if(a+2>=v)break;t[a++]=224|l>>12,t[a++]=128|l>>6&63,t[a++]=128|l&63}else{if(a+3>=v)break;t[a++]=240|l>>18,t[a++]=128|l>>12&63,t[a++]=128|l>>6&63,t[a++]=128|l&63}}return t[a]=0,a-s}function mn(n,t,a){return Jr(n,U,t,a)}function Qr(n){for(var t=0,a=0;a<n.length;++a){var f=n.charCodeAt(a);f>=55296&&f<=57343&&(f=65536+((f&1023)<<10)|n.charCodeAt(++a)&1023),f<=127?++t:f<=2047?t+=2:f<=65535?t+=3:t+=4}return t}var wn=new TextDecoder("utf-16le");function bn(n,t){for(var a=n,f=a>>1,s=f+t/2;!(f>=s)&&cr[f];)++f;return a=f<<1,wn.decode(U.subarray(n,a))}function Tn(n,t,a){if(a===void 0&&(a=2147483647),a<2)return 0;a-=2;for(var f=t,s=a<n.length*2?a/2:n.length,v=0;v<s;++v){var y=n.charCodeAt(v);x[t>>1]=y,t+=2}return x[t>>1]=0,t-f}function An(n){return n.length*2}function Pn(n,t){for(var a=0,f="";!(a>=t/4);){var s=b[n+a*4>>2];if(s==0)break;if(++a,s>=65536){var v=s-65536;f+=String.fromCharCode(55296|v>>10,56320|v&1023)}else f+=String.fromCharCode(s)}return f}function En(n,t,a){if(a===void 0&&(a=2147483647),a<4)return 0;for(var f=t,s=f+a-4,v=0;v<n.length;++v){var y=n.charCodeAt(v);if(y>=55296&&y<=57343){var l=n.charCodeAt(++v);y=65536+((y&1023)<<10)|l&1023}if(b[t>>2]=y,t+=4,t+4>s)break}return b[t>>2]=0,t-f}function Rn(n){for(var t=0,a=0;a<n.length;++a){var f=n.charCodeAt(a);f>=55296&&f<=57343&&++a,t+=4}return t}function Fn(n,t){return n%t>0&&(n+=t-n%t),n}var jr,Dr,U,x,cr,b,j,gr,H;function G(n){jr=n,i.HEAP8=Dr=new Int8Array(n),i.HEAP16=x=new Int16Array(n),i.HEAP32=b=new Int32Array(n),i.HEAPU8=U=new Uint8Array(n),i.HEAPU16=cr=new Uint16Array(n),i.HEAPU32=j=new Uint32Array(n),i.HEAPF32=gr=new Float32Array(n),i.HEAPF64=H=new Float64Array(n)}i.INITIAL_MEMORY;var sr,Ir=[],Hr=[],M=[];function Xr(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Cn(i.preRun.shift());br(Ir)}function Zr(){br(Hr)}function zr(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)kn(i.postRun.shift());br(M)}function Cn(n){Ir.unshift(n)}function Un(n){Hr.unshift(n)}function kn(n){M.unshift(n)}var rr=0,pr=null;function Sn(n){rr++,i.monitorRunDependencies&&i.monitorRunDependencies(rr)}function nr(n){if(rr--,i.monitorRunDependencies&&i.monitorRunDependencies(rr),rr==0&&pr){var t=pr;pr=null,t()}}i.preloadedImages={},i.preloadedAudios={};function Q(n){i.onAbort&&i.onAbort(n),n+="",q(n),Gr=!0,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(n);throw z(t),t}var Wn="data:application/octet-stream;base64,";function xr(n){return n.startsWith(Wn)}if(i.locateFile){var W="jxl_dec.wasm";xr(W)||(W=Or(W))}else var W=new URL(""+new URL("jxl_dec-fPSUALj8.wasm",self.location.href).href,self.location.href).toString();function rn(n){try{if(n==W&&ar)return new Uint8Array(ar);if(vr)return vr(n);throw"both async and sync fetching of the wasm failed"}catch(t){Q(t)}}function nn(){return!ar&&yr&&typeof fetch=="function"?fetch(W,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+W+"'";return n.arrayBuffer()}).catch(function(){return rn(W)}):Promise.resolve().then(function(){return rn(W)})}function N(){var n={a:ge};function t(y,l){var p=y.exports;i.asm=p,mr=i.asm.x,G(mr.buffer),sr=i.asm.D,Un(i.asm.y),nr()}Sn();function a(y){t(y.instance)}function f(y){return nn().then(function(l){var p=WebAssembly.instantiate(l,n);return p}).then(y,function(l){q("failed to asynchronously prepare wasm: "+l),Q(l)})}function s(){return!ar&&typeof WebAssembly.instantiateStreaming=="function"&&!xr(W)&&typeof fetch=="function"?fetch(W,{credentials:"same-origin"}).then(function(y){var l=WebAssembly.instantiateStreaming(y,n);return l.then(a,function(p){return q("wasm streaming compile failed: "+p),q("falling back to ArrayBuffer instantiation"),f(a)})}):f(a)}if(i.instantiateWasm)try{var v=i.instantiateWasm(n,t);return v}catch(y){return q("Module.instantiateWasm callback failed with error: "+y),!1}return s().catch(z),{}}function br(n){for(;n.length>0;){var t=n.shift();if(typeof t=="function"){t(i);continue}var a=t.func;typeof a=="number"?t.arg===void 0?sr.get(a)():sr.get(a)(t.arg):a(t.arg===void 0?null:t.arg)}}function On(n,t,a,f){Q("Assertion failed: "+ur(n)+", at: "+[t?ur(t):"unknown filename",a,f?ur(f):"unknown function"])}function he(n,t){}function Mr(n,t){return void 0}function _e(n,t,a,f,s){}function Lr(n){switch(n){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+n)}}function jn(){for(var n=new Array(256),t=0;t<256;++t)n[t]=String.fromCharCode(t);Tr=n}var Tr=void 0;function L(n){for(var t="",a=n;U[a];)t+=Tr[U[a++]];return t}var er={},F={},X={},tr=48,Ar=57;function en(n){if(n===void 0)return"_unknown";n=n.replace(/[^a-zA-Z0-9_]/g,"$");var t=n.charCodeAt(0);return t>=tr&&t<=Ar?"_"+n:n}function tn(n,t){return n=en(n),new Function("body","return function "+n+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(t)}function Pr(n,t){var a=tn(t,function(f){this.name=t,this.message=f;var s=new Error(f).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},a}var Vr=void 0;function k(n){throw new Vr(n)}var Br=void 0;function O(n){throw new Br(n)}function on(n,t,a){n.forEach(function(l){X[l]=t});function f(l){var p=a(l);p.length!==n.length&&O("Mismatched type converter count");for(var w=0;w<n.length;++w)J(n[w],p[w])}var s=new Array(t.length),v=[],y=0;t.forEach(function(l,p){F.hasOwnProperty(l)?s[p]=F[l]:(v.push(l),er.hasOwnProperty(l)||(er[l]=[]),er[l].push(function(){s[p]=F[l],++y,y===v.length&&f(s)}))}),v.length===0&&f(s)}function J(n,t,a){if(a=a||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var f=t.name;if(n||k('type "'+f+'" must have a positive integer typeid pointer'),F.hasOwnProperty(n)){if(a.ignoreDuplicateRegistrations)return;k("Cannot register type '"+f+"' twice")}if(F[n]=t,delete X[n],er.hasOwnProperty(n)){var s=er[n];delete er[n],s.forEach(function(v){v()})}}function Dn(n,t,a,f,s){var v=Lr(a);t=L(t),J(n,{name:t,fromWireType:function(y){return!!y},toWireType:function(y,l){return l?f:s},argPackAdvance:8,readValueFromPointer:function(y){var l;if(a===1)l=Dr;else if(a===2)l=x;else if(a===4)l=b;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(l[y>>v])},destructorFunction:null})}var $=[],V=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Er(n){n>4&&--V[n].refcount===0&&(V[n]=void 0,$.push(n))}function B(){for(var n=0,t=5;t<V.length;++t)V[t]!==void 0&&++n;return n}function an(){for(var n=5;n<V.length;++n)if(V[n]!==void 0)return V[n];return null}function In(){i.count_emval_handles=B,i.get_first_emval=an}function Rr(n){switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var t=$.length?$.pop():V.length;return V[t]={refcount:1,value:n},t}}}function qr(n){return this.fromWireType(j[n>>2])}function Fr(n,t){t=L(t),J(n,{name:t,fromWireType:function(a){var f=V[a].value;return Er(a),f},toWireType:function(a,f){return Rr(f)},argPackAdvance:8,readValueFromPointer:qr,destructorFunction:null})}function hr(n){if(n===null)return"null";var t=typeof n;return t==="object"||t==="array"||t==="function"?n.toString():""+n}function Hn(n,t){switch(t){case 2:return function(a){return this.fromWireType(gr[a>>2])};case 3:return function(a){return this.fromWireType(H[a>>3])};default:throw new TypeError("Unknown float type: "+n)}}function Nr(n,t,a){var f=Lr(a);t=L(t),J(n,{name:t,fromWireType:function(s){return s},toWireType:function(s,v){if(typeof v!="number"&&typeof v!="boolean")throw new TypeError('Cannot convert "'+hr(v)+'" to '+this.name);return v},argPackAdvance:8,readValueFromPointer:Hn(t,f),destructorFunction:null})}function Mn(n,t){if(!(n instanceof Function))throw new TypeError("new_ called with constructor type "+typeof n+" which is not a function");var a=tn(n.name||"unknownFunctionName",function(){});a.prototype=n.prototype;var f=new a,s=n.apply(f,t);return s instanceof Object?s:f}function Ln(n){for(;n.length;){var t=n.pop(),a=n.pop();a(t)}}function Vn(n,t,a,f,s){var v=t.length;v<2&&k("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var y=t[1]!==null&&a!==null,l=!1,p=1;p<t.length;++p)if(t[p]!==null&&t[p].destructorFunction===void 0){l=!0;break}for(var w=t[0].name!=="void",T="",E="",p=0;p<v-2;++p)T+=(p!==0?", ":"")+"arg"+p,E+=(p!==0?", ":"")+"arg"+p+"Wired";var D="return function "+en(n)+"("+T+`) {
if (arguments.length !== `+(v-2)+`) {
throwBindingError('function `+n+" called with ' + arguments.length + ' arguments, expected "+(v-2)+` args!');
}
`;l&&(D+=`var destructors = [];
`);var ir=l?"destructors":"null",K=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],or=[k,f,s,Ln,t[0],t[1]];y&&(D+="var thisWired = classParam.toWireType("+ir+`, this);
`);for(var p=0;p<v-2;++p)D+="var arg"+p+"Wired = argType"+p+".toWireType("+ir+", arg"+p+"); // "+t[p+2].name+`
`,K.push("argType"+p),or.push(t[p+2]);if(y&&(E="thisWired"+(E.length>0?", ":"")+E),D+=(w?"var rv = ":"")+"invoker(fn"+(E.length>0?", ":"")+E+`);
`,l)D+=`runDestructors(destructors);
`;else for(var p=y?1:2;p<t.length;++p){var r=p===1?"thisWired":"arg"+(p-2)+"Wired";t[p].destructorFunction!==null&&(D+=r+"_dtor("+r+"); // "+t[p].name+`
`,K.push(r+"_dtor"),or.push(t[p].destructorFunction))}w&&(D+=`var ret = retType.fromWireType(rv);
return ret;
`),D+=`}
`,K.push(D);var e=Mn(Function,K).apply(null,or);return e}function Bn(n,t,a){if(n[t].overloadTable===void 0){var f=n[t];n[t]=function(){return n[t].overloadTable.hasOwnProperty(arguments.length)||k("Function '"+a+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+n[t].overloadTable+")!"),n[t].overloadTable[arguments.length].apply(this,arguments)},n[t].overloadTable=[],n[t].overloadTable[f.argCount]=f}}function qn(n,t,a){i.hasOwnProperty(n)?((a===void 0||i[n].overloadTable!==void 0&&i[n].overloadTable[a]!==void 0)&&k("Cannot register public name '"+n+"' twice"),Bn(i,n,n),i.hasOwnProperty(a)&&k("Cannot register multiple overloads of a function with the same number of arguments ("+a+")!"),i[n].overloadTable[a]=t):(i[n]=t,a!==void 0&&(i[n].numArguments=a))}function Nn(n,t){for(var a=[],f=0;f<n;f++)a.push(b[(t>>2)+f]);return a}function $n(n,t,a){i.hasOwnProperty(n)||O("Replacing nonexistant public symbol"),i[n].overloadTable!==void 0&&a!==void 0?i[n].overloadTable[a]=t:(i[n]=t,i[n].argCount=a)}function Kn(n,t,a){var f=i["dynCall_"+n];return a&&a.length?f.apply(null,[t].concat(a)):f.call(null,t)}function Yn(n,t,a){return n.includes("j")?Kn(n,t,a):sr.get(t).apply(null,a)}function Gn(n,t){var a=[];return function(){a.length=arguments.length;for(var f=0;f<arguments.length;f++)a[f]=arguments[f];return Yn(n,t,a)}}function Jn(n,t){n=L(n);function a(){return n.includes("j")?Gn(n,t):sr.get(t)}var f=a();return typeof f!="function"&&k("unknown function pointer with signature "+n+": "+t),f}var fn=void 0;function un(n){var t=pn(n),a=L(t);return Z(t),a}function cn(n,t){var a=[],f={};function s(v){if(!f[v]&&!F[v]){if(X[v]){X[v].forEach(s);return}a.push(v),f[v]=!0}}throw t.forEach(s),new fn(n+": "+a.map(un).join([", "]))}function sn(n,t,a,f,s,v){var y=Nn(t,a);n=L(n),s=Jn(f,s),qn(n,function(){cn("Cannot call "+n+" due to unbound types",y)},t-1),on([],y,function(l){var p=[l[0],null].concat(l.slice(1));return $n(n,Vn(n,p,null,s,v),t-1),[]})}function Qn(n,t,a){switch(t){case 0:return a?function(s){return Dr[s]}:function(s){return U[s]};case 1:return a?function(s){return x[s>>1]}:function(s){return cr[s>>1]};case 2:return a?function(s){return b[s>>2]}:function(s){return j[s>>2]};default:throw new TypeError("Unknown integer type: "+n)}}function Xn(n,t,a,f,s){t=L(t),s===-1&&(s=4294967295);var v=Lr(a),y=function(w){return w};if(f===0){var l=32-8*a;y=function(w){return w<<l>>>l}}var p=t.includes("unsigned");J(n,{name:t,fromWireType:y,toWireType:function(w,T){if(typeof T!="number"&&typeof T!="boolean")throw new TypeError('Cannot convert "'+hr(T)+'" to '+this.name);if(T<f||T>s)throw new TypeError('Passing a number "'+hr(T)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+f+", "+s+"]!");return p?T>>>0:T|0},argPackAdvance:8,readValueFromPointer:Qn(t,v,f!==0),destructorFunction:null})}function Zn(n,t,a){var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=f[t];function v(y){y=y>>2;var l=j,p=l[y],w=l[y+1];return new s(jr,w,p)}a=L(a),J(n,{name:a,fromWireType:v,argPackAdvance:8,readValueFromPointer:v},{ignoreDuplicateRegistrations:!0})}function zn(n,t){t=L(t);var a=t==="std::string";J(n,{name:t,fromWireType:function(f){var s=j[f>>2],v;if(a)for(var y=f+4,l=0;l<=s;++l){var p=f+4+l;if(l==s||U[p]==0){var w=p-y,T=ur(y,w);v===void 0?v=T:(v+="\0",v+=T),y=p+1}}else{for(var E=new Array(s),l=0;l<s;++l)E[l]=String.fromCharCode(U[f+4+l]);v=E.join("")}return Z(f),v},toWireType:function(f,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var v,y=typeof s=="string";y||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||k("Cannot pass non-string to std::string"),a&&y?v=function(){return Qr(s)}:v=function(){return s.length};var l=v(),p=$r(4+l+1);if(j[p>>2]=l,a&&y)mn(s,p+4,l+1);else if(y)for(var w=0;w<l;++w){var T=s.charCodeAt(w);T>255&&(Z(p),k("String has UTF-16 code units that do not fit in 8 bits")),U[p+4+w]=T}else for(var w=0;w<l;++w)U[p+4+w]=s[w];return f!==null&&f.push(Z,p),p},argPackAdvance:8,readValueFromPointer:qr,destructorFunction:function(f){Z(f)}})}function xn(n,t,a){a=L(a);var f,s,v,y,l;t===2?(f=bn,s=Tn,y=An,v=function(){return cr},l=1):t===4&&(f=Pn,s=En,y=Rn,v=function(){return j},l=2),J(n,{name:a,fromWireType:function(p){for(var w=j[p>>2],T=v(),E,D=p+4,ir=0;ir<=w;++ir){var K=p+4+ir*t;if(ir==w||T[K>>l]==0){var or=K-D,r=f(D,or);E===void 0?E=r:(E+="\0",E+=r),D=K+t}}return Z(p),E},toWireType:function(p,w){typeof w!="string"&&k("Cannot pass non-string to C++ string type "+a);var T=y(w),E=$r(4+T+t);return j[E>>2]=T>>l,s(w,E+4,T+t),p!==null&&p.push(Z,E),E},argPackAdvance:8,readValueFromPointer:qr,destructorFunction:function(p){Z(p)}})}function re(n,t){t=L(t),J(n,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(a,f){}})}var ne={};function ee(n){var t=ne[n];return t===void 0?L(n):t}function ln(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function te(n){return n===0?Rr(ln()):(n=ee(n),Rr(ln()[n]))}function dn(n){n>4&&(V[n].refcount+=1)}function ie(n,t){var a=F[n];return a===void 0&&k(t+" has unknown type "+un(n)),a}function oe(n){for(var t="",a=0;a<n;++a)t+=(a!==0?", ":"")+"arg"+a;for(var f="return function emval_allocator_"+n+`(constructor, argTypes, args) {
`,a=0;a<n;++a)f+="var argType"+a+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+a+'], "parameter '+a+`");
var arg`+a+" = argType"+a+`.readValueFromPointer(args);
args += argType`+a+`['argPackAdvance'];
`;return f+="var obj = new constructor("+t+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",f)(ie,i,Rr)}var vn={};function ae(n){return n||k("Cannot use deleted val. handle = "+n),V[n].value}function gn(n,t,a,f){n=ae(n);var s=vn[t];return s||(s=oe(t),vn[t]=s),s(n,a,f)}function fe(){Q()}function ue(n,t,a){U.copyWithin(n,t,t+a)}function ce(n){try{return mr.grow(n-jr.byteLength+65535>>>16),G(mr.buffer),1}catch{}}function se(n){var t=U.length;n=n>>>0;var a=2147483648;if(n>a)return!1;for(var f=1;f<=4;f*=2){var s=t*(1+.2/f);s=Math.min(s,n+100663296);var v=Math.min(a,Fn(Math.max(n,s),65536)),y=ce(v);if(y)return!0}return!1}var Cr={mappings:{},buffers:[null,[],[]],printChar:function(n,t){var a=Cr.buffers[n];t===0||t===10?((n===1?yn:q)(wr(a,0)),a.length=0):a.push(t)},varargs:void 0,get:function(){Cr.varargs+=4;var n=b[Cr.varargs-4>>2];return n},getStr:function(n){var t=ur(n);return t},get64:function(n,t){return n}};function le(n){return 0}function de(n,t,a,f,s){}function ve(n,t,a,f){for(var s=0,v=0;v<a;v++){for(var y=b[t+v*8>>2],l=b[t+(v*8+4)>>2],p=0;p<l;p++)Cr.printChar(n,U[y+p]);s+=l}return b[f>>2]=s,0}function Ur(n){}jn(),Vr=i.BindingError=Pr(Error,"BindingError"),Br=i.InternalError=Pr(Error,"InternalError"),In(),fn=i.UnboundTypeError=Pr(Error,"UnboundTypeError");var ge={b:On,m:Mr,r:_e,n:Dn,w:Fr,j:Nr,p:sn,d:Xn,c:Zn,k:zn,g:xn,o:re,e:Er,l:te,h:dn,i:gn,a:fe,t:ue,f:se,u:le,q:de,v:ve,s:Ur};N(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.y).apply(null,arguments)};var $r=i._malloc=function(){return($r=i._malloc=i.asm.z).apply(null,arguments)},Z=i._free=function(){return(Z=i._free=i.asm.A).apply(null,arguments)},pn=i.___getTypeName=function(){return(pn=i.___getTypeName=i.asm.B).apply(null,arguments)};i.___embind_register_native_and_builtin_types=function(){return(i.___embind_register_native_and_builtin_types=i.asm.C).apply(null,arguments)},i.dynCall_iiji=function(){return(i.dynCall_iiji=i.asm.E).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.F).apply(null,arguments)};var kr;pr=function n(){kr||Kr(),kr||(pr=n)};function Kr(n){if(rr>0||(Xr(),rr>0))return;function t(){kr||(kr=!0,i.calledRun=!0,!Gr&&(Zr(),dr(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),zr()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),t()},1)):t()}if(i.run=Kr,i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return Kr(),i.ready}}();function we(S){switch(S){case"jxl":return Promise.resolve(me());case"avif":return Promise.resolve(ye());default:throw new Error(`Unknown format to polyfill: ${S}`)}}async function be(S){const[Wr,i,dr]=S,z=await we(i),I=await fetch(Wr,{method:"GET",headers:{Authorization:`Bearer ${dr}`}});if(!I.ok)return Promise.resolve(Wr);const R=z.decode(await I.arrayBuffer()),yr=new OffscreenCanvas(R.width,R.height),P=yr.getContext("2d");if(!P)throw new Error("Could not get context");P.putImageData(R,0,0);const Or=await yr.convertToBlob();return Promise.resolve(URL.createObjectURL(Or))}const Te=4,hn=[];let _n=0;self.onconnect=S=>{const Wr=S.ports[0];Wr.onmessage=async i=>{hn.push({data:i.data,port:Wr}),await pe()}};async function pe(){if(_n<Te&&hn.length>0){_n++;const S=hn.shift();if(!S)return;S.port.postMessage(await be(S.data)),_n--,await pe()}}})();
