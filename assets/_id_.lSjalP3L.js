import{_ as y}from"./newRoute.ZmWi6bHh.js";import{_ as b}from"./ItemCard.vue.2Z20zzJe.js";import{_ as C}from"./nuxt-link.QBoXYOtL.js";import{s as x,r as o,C as B,v as $,o as m,c as f,b as l,u as t,w as _,a as A,F as d,D as R,E as U,G as I}from"./entry.ZmpWMgT3.js";import{f as P}from"./ImagePoly.vue.-mgxmTYa.js";import{i as S}from"./index.9KgkEnz4.js";import{g as V}from"./swiperBreakPoint.5RiiSc4J.js";import{_ as z}from"./NavDrawerWrapper.vue.Q-ElvCcJ.js";import"./Toggle.ltk3lzMs.js";import"./NavDrawer.vue.LXVGdHxZ.js";import"./NavEntry.vue.qVp9iCk1.js";import"./ripple.uo11bOlx.js";import"./ThemeToggle.9AKhojbB.js";import"./changeTheme.l_0xQP93.js";import"./TopBar.vue.0MwlbhhK.js";import"./FilterBar.vue.dVShltxY.js";import"./LogoAndTitle.kwGNx0Nz.js";import"./NavToggleIcon.ZIFwaBKs.js";import"./UserAvatar.vue.XQ1szWa1.js";const re=x({__name:"[id]",setup(E){const p=o(5),c=o(16),n=B().params.id,g=Array.isArray(n)?n[0]:n,s=o(""),u=o([]);(async()=>{const{data:r,message:a}=await S.filter({category_ids:[g]});if(r===void 0){s.value=a??"";return}u.value=r})();const v=new ResizeObserver(()=>{const r=V();p.value=r.slidesPerView,c.value=r.spaceBetween}),i=o(null);return $(()=>{i.value!==null&&v.observe(i.value)}),(r,a)=>{const h=y,w=b,k=C;return m(),f(d,null,[l(h,{message:t(s),onClose:a[0]||(a[0]=e=>s.value="")},null,8,["message"]),l(z,null,{default:_(()=>[A("div",{ref_key:"imageContainerRef",ref:i,class:"my-3 grid px-6 lg:mt-0 lg:pl-0 lg:pr-3",style:U({gridTemplateColumns:`repeat(${t(p)}, 1fr)`,gap:`${t(c)}px`})},[(m(!0),f(d,null,R(t(u),e=>(m(),I(k,{key:e.id,to:`/title/${e.id}`},{default:_(()=>[l(w,{title:e.title,author:e.author??"Unknown","title-id":e.id,cover:{width:e.width,height:e.height,blurhash:e.blurhash,format:e.format,src:("fileApiUrl"in r?r.fileApiUrl:t(P)).thumbnail(e.id)}},null,8,["title","author","title-id","cover"])]),_:2},1032,["to"]))),128))],4)]),_:1})],64)}}});export{re as default};
